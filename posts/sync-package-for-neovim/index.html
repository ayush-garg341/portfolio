<!doctype html><html data-enable-theme-switch="true" data-use-system-theme="false" data-default-theme="dark" data-current="post" lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sync package for neovim</title><meta name="description" content="I built this dead simple package to sync the code from local to remote server."><link rel="dns-prefetch" href="https://identity.netlify.com"><script async src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="/portfolio/assets/css/main.css"><script>// Initialize theme
    // Must run before page rendering to prevent flash
    const themeConfig = document.documentElement.dataset;
    const theme = localStorage.getItem('theme');

    if (theme) {
      themeConfig.theme = theme;
    } else {
      const defaultTheme = themeConfig.defaultTheme;
      const useSystemTheme = themeConfig.useSystemTheme === 'true';
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

      themeConfig.theme = (useSystemTheme && prefersDark) ? 'dark' : defaultTheme;
    }</script><script defer="defer" src="/portfolio/assets/js/main.bundle.js"></script></head><body><div class="wrapper-bg-wrapper"><div class="wrapper-bg"></div></div><header class="site-header"><div class="site-header__container"><span class="site-header__logo-container"><a class="site-header__logo" href="/portfolio/" aria-label="Logo"> <?xml version="1.0" encoding="utf-8"?> <svg width="40px" height="40px" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--noto" preserveAspectRatio="xMidYMid meet"><path d="M71.59 68.58H58.75c0 20.36-4.21 28.52-4.21 28.52H75.8c0-.01-4.21-8.17-4.21-28.52z" fill="#b7d5e5"></path><path d="M39.41 98.17c-.07-1.14.1-2.64.1-2.64s45.24-1.88 48.83-.09c0 0 .48 1.66.15 2.74c-.79 2.53-10.99 4.8-24.55 4.8s-24.37-2.16-24.53-4.81z" fill="#2f7889"></path><ellipse cx="64" cy="95.96" rx="24.55" ry="4.8" fill="#b7d5e5"></ellipse><path d="M71.59 68.58H58.75c0 6.64-.45 11.98-1.05 16.16l15.31 2.3c-.78-4.47-1.42-10.54-1.42-18.46z" fill="#69a1ba"></path><path d="M55.49 91.46s-3.72 1.52-2.88 2.63c1.3 1.74 4.93 2.83 13.71 3.42c6.17.41 3.75 2.13-2.05 2.48c-4.07.24-23.58.4-24.74-3.67c-.94-3.31 13.18-4.86 15.96-4.86z" fill="#eee"></path><path d="M99.4 106.51H28.49c-.97 0-1.94.54-2.48 1.4l-7.78 10.7c-.72.98-.01 2.36 1.2 2.36h89.13c1.22 0 1.92-1.38 1.2-2.36l-7.88-10.8c-.53-.76-1.5-1.3-2.48-1.3z" fill="#eee"></path><g opacity=".57" fill="#69a1ba"><path d="M35.61 111.26h-4.86l.65-1.18h4.86z"></path><path d="M43.28 111.26h-4.86l.54-1.18h5.07z"></path><path d="M50.62 111.26h-4.97l.76-1.18h4.85z"></path><path d="M57.85 111.26h-4.86l.76-1.18h4.64z"></path><path d="M65.08 111.26h-4.97l.44-1.18h4.1z"></path><path d="M72.31 111.26h-4.86l-.54-1.18h4.65z"></path><path d="M79.87 111.26H74.9l-.86-1.18h4.86z"></path><path d="M87.1 111.26h-4.97l-.86-1.18h4.97z"></path><path d="M96.92 111.26h-7.45l-.86-1.18h7.56z"></path><path d="M93.14 113.21H98l-.86-1.3h-4.97z"></path><path d="M85.16 113.21h4.85l-.97-1.3h-4.86z"></path><path d="M77.82 113.21h4.85l-.75-1.3h-4.97z"></path><path d="M69.94 113.21h4.85l-.86-1.3h-4.64z"></path><path d="M62.92 113.21h4.86l-.54-1.3h-4.1z"></path><path d="M55.9 113.21h4.86l.33-1.3h-4.75z"></path><path d="M48.24 113.21h4.86l.65-1.3H49z"></path><path d="M39.61 113.21h4.96l.76-1.3h-4.97z"></path><path d="M29.68 113.21h7.34l.75-1.3h-7.45z"></path><path d="M76.09 115.15h4.96l-.86-1.3h-4.96z"></path><path d="M68.32 115.15h4.85l-.64-1.3h-4.64z"></path><path d="M59.03 115.15H64l-.11-1.3h-4.42z"></path><path d="M50.29 115.15h4.97l.43-1.3h-4.75z"></path><path d="M41.12 115.15h4.85l.76-1.3h-4.86z"></path><path d="M28.7 115.15h9.83l.75-1.3h-9.82z"></path><path d="M84.4 115.15h14.68l-.86-1.3H83.54z"></path><path d="M95.52 117.09h4.96l-.97-1.29h-4.96z"></path><path d="M86.45 117.09h4.86l-.97-1.29h-4.86z"></path><path d="M47.27 117.09h33.35l-.75-1.29H48.02z"></path><path d="M36.8 117.09h4.96l.54-1.29h-4.75z"></path><path d="M27.52 117.09h4.85l.54-1.29h-4.75z"></path></g><path d="M108.69 124H19.31c-.88 0-1.64-.76-1.64-1.62v-2.4h92.68v2.4c-.01.86-.78 1.62-1.66 1.62z" fill="#2f7889"></path><path d="M99.4 107.52c.61 0 1.3.36 1.67.88l8.22 11.27c.05.06.05.13.02.2c-.04.07-.09.1-.17.1H18.86c-.08 0-.13-.03-.17-.1a.166.166 0 0 1 .02-.2l8.12-11.16l.02-.03l.02-.03c.35-.57.99-.93 1.63-.93h70.9m0-1.01H28.49c-.97 0-1.94.54-2.48 1.4l-8.12 11.16c-.57.79-.01 1.9.97 1.9h90.29c.98 0 1.54-1.11.97-1.9l-8.22-11.27c-.55-.75-1.52-1.29-2.5-1.29z" fill="#b7d5e5"></path><path d="M113.46 79.66H14.54a3.44 3.44 0 0 1-3.44-3.44v-67c0-1.9 1.54-3.44 3.44-3.44h98.91c1.9 0 3.44 1.54 3.44 3.44v67c.01 1.9-1.53 3.44-3.43 3.44z" fill="#69a1ba"></path><path d="M113.46 77.89H14.54a3.44 3.44 0 0 1-3.44-3.44v-67c0-1.9 1.54-3.44 3.44-3.44h98.91c1.9 0 3.44 1.54 3.44 3.44v67a3.431 3.431 0 0 1-3.43 3.44z" fill="#b7d5e5"></path><radialGradient id="IconifyId17ecdb2904d178eab7646" cx="46.465" cy="-5.176" r="60.973" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2f7889"></stop><stop offset="1" stop-color="#424242"></stop></radialGradient><path fill="url(#IconifyId17ecdb2904d178eab7646)" d="M15.25 9.38h97.5V72.5h-97.5z"></path><path fill="none" stroke="#eee" stroke-width="3.014" stroke-linecap="round" stroke-miterlimit="10" d="M16.39 6.99h11.19"></path></svg> </a></span><button class="site-header__mobile-nav" data-drawer-trigger="" aria-controls="drawer-name" aria-expanded="false"><span class="site-header__mobile-nav-label">Menu</span> <svg width="226" height="187" viewBox="0 0 226 187" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0H225.311V22.8494H0V0Z" fill="currentColor"/><path d="M0 81.872H225.311V104.721H0V81.872Z" fill="currentColor"/><path d="M0 163.744H225.311V186.593H0V163.744Z" fill="currentColor"/></svg></button><nav class="site-header__nav"><ul class="site-header__items"><li class="site-header__item"><a class="site-header__link" href="/portfolio/about/">About</a></li><li class="site-header__item"><a class="site-header__link" href="/portfolio/blog/">Blog</a></li><li class="site-header__item"><a class="site-header__link" href="/portfolio/projects/">Projects</a></li><li class="site-header__item"><a class="site-header__link" href="/portfolio/contact/">Contact</a></li><li class="site-header__item"><button class="site-header__link site-header__link--theme-switch" data-theme-switch><svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 14C7.01472 14 5 11.9853 5 9.5C5 7.01472 7.01472 5 9.5 5C11.9853 5 14 7.01472 14 9.5C14 11.9853 11.9853 14 9.5 14ZM9.5 13C11.433 13 13 11.433 13 9.5C13 7.567 11.433 6 9.5 6C7.567 6 6 7.567 6 9.5C6 11.433 7.567 13 9.5 13ZM10 3H9V0H10V3ZM14.4497 5.25736L13.7426 4.55025L15.864 2.42893L16.5711 3.13604L14.4497 5.25736ZM16 10V9H19V10H16ZM13.7426 14.4497L14.4497 13.7426L16.5711 15.864L15.864 16.5711L13.7426 14.4497ZM9 16H10V19H9V16ZM4.55025 13.7426L5.25736 14.4497L3.13604 16.5711L2.42893 15.864L4.55025 13.7426ZM3 9V10H0V9H3ZM5.25736 4.55025L4.55025 5.25736L2.42893 3.13604L3.13604 2.42893L5.25736 4.55025Z" fill="currentColor"/></svg></button></li></ul></nav></div></header><section class="drawer" id="drawer-name" data-drawer-target><div class="drawer__overlay" data-drawer-close tabindex="-1"></div><div class="drawer__wrapper"><div class="drawer__header"><button class="drawer__close" data-drawer-close aria-label="Close Drawer"><svg width="45" height="45" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 3.84294L3.84294 0L22.4996 18.7131L41.2127 0L45 3.84294L26.3425 22.4996L45 41.2127L41.2127 45L22.4996 26.3425L3.84294 45L0 41.2127L18.7131 22.4996L0 3.84294Z" fill="currentColor"/></svg></button></div><div class="drawer__content"><ul class="drawer__nav"><li class="drawer__nav-item"><a href="/">Home</a></li><li class="drawer__nav-item"><a href="/portfolio/about/">About</a></li><li class="drawer__nav-item"><a href="/portfolio/blog/">Blog</a></li><li class="drawer__nav-item"><a href="/portfolio/projects/">Projects</a></li><li class="drawer__nav-item"><a href="/portfolio/contact/">Contact</a></li></ul></div></div></section><main><div class="page-container"><article><h1>Sync package for neovim</h1><p><time datetime="2026-01-31">31 January 2026</time></p><hr><p>A fast, minimal Neovim plugin to sync code from local to remote servers using rsync. Built in Lua with background jobs and hot-reloading.</p><p>I built code_sync.nvim: A Lightweight Neovim Plugin to Sync Code to Remote Servers <a href="https://github.com/ayush-garg341/code_sync">Code</a>.</p><p>If you are stuck at some point reading through the article, please go through the <a href="https://github.com/ayush-garg341/code_sync/blob/main/README.md">README.md</a> of the project. It has pretty much details.</p><p><strong>Why I Built This:</strong></p><ul><li>As someone who works primarily inside Neovim, I constantly found myself needing to sync local files to remote servers during development whether for testing ML scripts, deploying feature branches to staging environments, or just backing up work.</li></ul><p><strong>What Didn't Work:</strong></p><ul><li>Existing Neovim plugins either:<ul><li>Tried to do too much, bundling terminal multiplexers, remote FS interfaces, and more.</li><li>Were hard to configure especially with SSH keys, .rsyncignore behavior, or environmental targets.</li></ul></li></ul><p>So I said: &quot;Why not build something simple and Lua-native that just syncs code?&quot;</p><p><strong>What Makes code_sync.nvim Different?</strong></p><ul><li>Unlike generic file sync tools or bloated Neovim plugins, code_sync.nvim is built with purpose and simplicity in mind.</li><li>Single Responsibility. It only does one thing sync code from local to remote and does it well. No terminals, no remotes-as-filesystem hacks.</li><li>Minimal Configuration. Just drop a Lua config in ~/.config/.code_sync.lua, no need to wrap your head around dozens of options.</li><li>Neovim-Native. Written entirely in Lua and built on top of Neovim async job APIs (vim.loop.spawn). No shims, wrappers, or FFI dependencies.</li><li>Hot Config Reloading. Detects changes to your config file and reloads them on the fly, no need to restart Neovim.</li><li>Multiple Environments. Easily define targets like test, stage, or dev per project, with support for multiple servers under each.</li><li>Flexible SSH Methods. Whether you're using password-based, key-based, or passwordless login via ~/.ssh/config, it's supported.</li><li>Non-blocking Execution. All sync operations run as background jobs. No freezing. Keep coding while your files sync in parallel.</li></ul><p><strong>Introducing code_sync.nvim</strong></p><ul><li>A single-purpose Neovim plugin to sync local projects to remote directories using <code>rsync</code>, written entirely in Lua, with async background jobs and minimal config.</li><li>Core Features:<ul><li>Sync files/folders with one command.</li><li>Supports all SSH methods: password, key, keyless (via <code>~/.ssh/config</code>).</li><li>Dotfile-based config (<code>~/.config/.code_sync.lua</code>).</li><li>Target specific environments (<code>test</code>, <code>stage</code>, <code>dev</code>) per project.</li><li>Hot reloads config no need to restart Neovim.</li></ul></li></ul><p><strong>Installation</strong></p><ul><li>Add this to your Packer config:</li></ul><pre class="language-lua"><code class="language-lua"><br><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  <span class="token string">"ayush-garg341/code_sync"</span><span class="token punctuation">,</span><br>  config <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"code_sync"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token keyword">end</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>How It Works?</strong></p><ul><li>You define your sync strategy in <code>~/.config/.code_sync.lua</code>. Each project can map to multiple environments, with config like:</li></ul><pre class="language-lua"><code class="language-lua"><span class="token punctuation">{</span><br>  protocol <span class="token operator">=</span> <span class="token string">"rsync"</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">"my-project"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><br>    test <span class="token operator">=</span> <span class="token punctuation">{</span><br>      <span class="token punctuation">{</span><br>        target <span class="token operator">=</span> <span class="token string">"ubuntu@192.168.1.42:/var/www/my-project"</span><span class="token punctuation">,</span><br>        method <span class="token operator">=</span> <span class="token string">"key_less"</span><span class="token punctuation">,</span><br>        exclude_file <span class="token operator">=</span> <span class="token string">"~/.rsyncignore"</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    dev <span class="token operator">=</span> <span class="token punctuation">{</span><br>      <span class="token punctuation">{</span><br>        target <span class="token operator">=</span> <span class="token string">"devops@devbox:/home/devops/codebase"</span><span class="token punctuation">,</span><br>        method <span class="token operator">=</span> <span class="token string">"pwd_based"</span><span class="token punctuation">,</span><br>        keypath <span class="token operator">=</span> <span class="token string">"myS3cretP@ss"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>   stage <span class="token operator">=</span> <span class="token punctuation">{</span><br>      <span class="token punctuation">{</span><br>        target <span class="token operator">=</span> <span class="token string">"ayush@&lt;hostname>:/home/ayush/data-science"</span><span class="token punctuation">,</span><br>        exclude_file <span class="token operator">=</span> <span class="token string">"/Users/elliott/.rsyncignore"</span><span class="token punctuation">,</span><br>        keypath <span class="token operator">=</span> <span class="token string">"~/Downloads/some.pem"</span><span class="token punctuation">,</span><br>        method <span class="token operator">=</span> <span class="token string">"key_based"</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p><strong>SSH Auth Modes Supported:</strong></p><ul><li>Key-based: (<code>.pem</code> or <code>id_rsa</code> style)</li><li>Key-less: (<code>ssh-copy-id</code> + <code>~/.ssh/config</code>)</li><li>Password-based via <code>sshpass</code></li></ul><pre class="language-bash"><code class="language-bash"><span class="token comment"># Setup passwordless SSH</span><br>ssh-keygen <span class="token parameter variable">-t</span> rsa<br>ssh-copy-id user@host<br><br><span class="token comment"># Or install sshpass for password-based auth</span><br>brew <span class="token function">install</span> hudochenkov/sshpass/sshpass</code></pre><p><strong>Config Keys Reference</strong></p><ul><li>protocol: One of <code>rsync</code>, <code>scp</code>, <code>ftp</code>, <code>sftp</code> (currently <code>rsync</code> only)</li><li>keypath: Path to <code>.pem</code> or plain password</li><li>project: Source folder in Neovim</li><li>test, stage, dev : Environment labels</li><li>target: Full remote destination</li><li>exclude_file: Like <code>.gitignore</code> for rsync</li><li>method: <code>key_based</code>, <code>pwd_based</code>, <code>key_less</code></li></ul><p><strong>Example Screenshot</strong></p><ul><li>Here's how :CodeSyncList looks when no jobs are running:<br><picture><source type="image/webp" srcset="/portfolio/assets/img/l3L63cst_Q-250.webp 250w, /portfolio/assets/img/l3L63cst_Q-316.webp 316w, /portfolio/assets/img/l3L63cst_Q-426.webp 426w, /portfolio/assets/img/l3L63cst_Q-460.webp 460w, /portfolio/assets/img/l3L63cst_Q-500.webp 500w, /portfolio/assets/img/l3L63cst_Q-580.webp 580w, /portfolio/assets/img/l3L63cst_Q-632.webp 632w, /portfolio/assets/img/l3L63cst_Q-768.webp 768w, /portfolio/assets/img/l3L63cst_Q-852.webp 852w, /portfolio/assets/img/l3L63cst_Q-920.webp 920w, /portfolio/assets/img/l3L63cst_Q-1160.webp 1160w, /portfolio/assets/img/l3L63cst_Q-1536.webp 1536w" sizes="(max-width: 768px) 100vw, 768px"><source type="image/jpeg" srcset="/portfolio/assets/img/l3L63cst_Q-250.jpeg 250w, /portfolio/assets/img/l3L63cst_Q-316.jpeg 316w, /portfolio/assets/img/l3L63cst_Q-426.jpeg 426w, /portfolio/assets/img/l3L63cst_Q-460.jpeg 460w, /portfolio/assets/img/l3L63cst_Q-500.jpeg 500w, /portfolio/assets/img/l3L63cst_Q-580.jpeg 580w, /portfolio/assets/img/l3L63cst_Q-632.jpeg 632w, /portfolio/assets/img/l3L63cst_Q-768.jpeg 768w, /portfolio/assets/img/l3L63cst_Q-852.jpeg 852w, /portfolio/assets/img/l3L63cst_Q-920.jpeg 920w, /portfolio/assets/img/l3L63cst_Q-1160.jpeg 1160w, /portfolio/assets/img/l3L63cst_Q-1536.jpeg 1536w" sizes="(max-width: 768px) 100vw, 768px"><img alt="Output" loading="lazy" decoding="async" src="/portfolio/assets/img/l3L63cst_Q-250.jpeg" width="1536" height="960"></picture></li></ul><p><strong>Usage from Neovim:</strong></p><ul><li><code>:CodeSync:</code> Syncs file, cwd, or project to a remote env</li><li><code>:CodeSyncList:</code> List active jobs</li><li><code>:CodeSyncCancel &lt;id&gt;:</code> Cancel a specific sync job</li><li>Production syncing is intentionally not supported. Use CI/CD.</li></ul><pre class="language-vim"><code class="language-vim"><span class="token punctuation">:</span>CodeSync test <span class="token operator">-</span><span class="token operator">-</span>project    <span class="token comment">"Sync the whole project to your test env</span><br><span class="token punctuation">:</span>CodeSync stage <span class="token operator">-</span><span class="token operator">-</span>cwd      <span class="token comment">"Sync the current directory to stage env</span><br><span class="token punctuation">:</span>CodeSync dev            <span class="token comment">" Sync current file to dev env</span><br><span class="token punctuation">:</span>CodeSyncCancel <span class="token number">3</span>        <span class="token comment">" Cancel job with ID 3</span></code></pre><p><strong>Technical Design Decisions:</strong></p><ul><li>Uses <code>vim.fn.jobstart</code> to <strong>avoid freezing</strong> Neovim</li><li>Supports <strong>parallel jobs</strong> and shows job status</li><li>Uses pure Lua no shell hacks</li></ul><p><strong>Roadmap &amp; Todos:</strong></p><ul><li>Support dry run of rsync command before actually start syncing</li><li>Hot-reload config when modified</li><li>Add support for <code>scp</code> and <code>sftp</code></li><li>Add auto-sync with user-defined intervals</li><li>Better logging for sync failures/success</li><li>Detect changes in files &amp; only sync diffs</li></ul><p><strong>Want to Contribute?</strong></p><ul><li>Sure! Pick a task from above or suggest your own:</li><li>Fork the repo on GitHub</li><li>Test your patch locally</li><li>Submit a Pull Request with details</li></ul><p><strong>Who This Is For?</strong></p><ul><li>Neovim users who want simple remote syncing.</li><li>Developers working across local &amp; remote setups.</li><li>Anyone tired of complex Rsync scripts or UI bloat.</li></ul><p><strong>Final Thoughts</strong></p><ul><li>This was a weekend project that scratched a real itch.</li><li>If you find it helpful, consider starring the repo or sharing feedback!</li></ul><p>I use this plugin extensively, when I need to sync code from my mac to my other spare old machine. My mac has Silicon chip, so some intel programs do not run. I run them on intel architecture on my spare 4GB machine.</p><p class="tag-list"><a class="tag" href="/portfolio/tags/neovim/" rel="tag">neovim</a> <a class="tag" href="/portfolio/tags/rsync/" rel="tag">rsync</a> <a class="tag" href="/portfolio/tags/lua/" rel="tag">lua</a></p></article><nav><a href="/portfolio/blog/">‚Üê View All Articles</a></nav></div></main><footer class="site-footer"><medium>Connect with me on <a href="https://x.com/bbetterengineer" target="_blank">X</a>, <a href="https://github.com/ayush-garg341" target="_blank">GitHub</a> or <a href="https://www.linkedin.com/in/ayush-garg-5bb04114b/" target="_blank">Linkedin</a>.</medium></footer></body></html>